package com.analysis.web.test;

import java.util.*;

import com.analysis.web.mapper.InitMapper;
import org.junit.Before;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

/**
 *
 * @author Gavin
 */
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = {"classpath:spring-mybatis.xml"})
public class MyBatisTest {

    private HashMap<String, String> mounthnum = new HashMap<String, String>();
    private String channel;

    @Autowired
    private InitMapper initMapper;

    @Before
    public void before() {
//        ApplicationContext ac = new ClassPathXmlApplicationContext(new String[]{"spring.xml", "spring-mybatis.xml"});
//        userService = (UserService) ac.getBean("userService");
//        String m1 = "418";
//        String m2 = "7465\t8417\t8745\t6681\t8518\t8041\t9794\t8412\t7477\t8749\t8103\t8210\t8552\t9401\t8179\t7980\t10278\t8662\t8757\t10644\t8480\t8852\t7395\t8481\t8157\t10581\t8138\t9687";
//        String m3 = "8076\t8439\t8732\t8518\t8196\t8328\t8880\t8188\t8698\t8218\t8748\t8930\t8342\t8338\t9002\t8868\t9578\t8904\t9792\t9922\t9298\t9832\t8512\t9208\t9106\t9396\t9002\t10048\t8934\t9992\t8714";
//        String m4 = "8303\t8267\t8238\t9369\t9319\t9160\t9768\t9206\t8567\t8039\t8622\t8814\t9276\t9271\t9902\t9754\t10535\t9794\t10771\t10914\t10227\t10815\t9363\t10128\t10016\t10335\t9902\t11052\t9827\t10991";
//        String m5 = "8913\t9126\t9504\t9305\t9916\t9076\t9744\t10906\t10423\t9842\t10484\t8695\t9203\t9198\t9892\t8729\t9588\t8773\t9848\t9005\t9249\t9896\t9299\t11140\t11017\t11368\t10892\t12157\t10809\t12090\t11361";
//        String m6 = "9811\t11018\t13041\t11335\t13907\t11083\t12818\t10896\t12365\t10726\t12332\t10564\t10123\t12117\t10881\t9601\t10546\t9650\t10832\t9905\t10173\t12885\t10228\t12254\t12118\t13504\t11981\t13372\t12889\t13299";
//        String m7 = "9787\t9241\t9296\t9468\t9294\t9191\t9098\t9985\t10611\t9778\t11565\t9620\t11135";
//        mounthnum.put("201501", m1);
//        mounthnum.put("201502", m2);
//        mounthnum.put("201503", m3);
//        mounthnum.put("201504", m4);
//        mounthnum.put("201505", m5);
//        mounthnum.put("201506", m6);
//        mounthnum.put("201507", m7);
//        channel = "100401";     //努比亚

//        String m1 = "1321";
//        String m2 = "11132\t10389\t10250\t10890\t10627\t11113\t10693\t9798\t10097\t10089\t9726\t10521\t10964\t11330\t10145\t10252\t10023\t9969\t10678\t11958\t11304\t10377\t8731\t10181\t10031\t10223\t10728\t10423";
//        String m3 = "35847\t24502\t7715\t9482\t8342\t9393\t9014\t7769\t7683\t7492\t7308\t8446\t9500\t9202\t7609\t7825\t8459\t7102\t8431\t10426\t9428\t8581\t6558\t8153\t7415\t7784\t8342\t10268\t7573\t7576\t7970";
//        String m4 = "68319\t9701\t127732\t3405\t3240\t3777\t20167\t3282\t3674\t3013\t3261\t3798\t3653\t3715\t3302\t4025\t4025\t3674\t3694\t4954\t5738\t4376\t3405\t3220\t8917\t4210\t4458\t4045\t3736\t11786";
//        String m5 = "13671\t10492\t13150\t14503\t11376\t12541\t11698\t10618\t10507\t10381\t10727\t11842\t13538\t11716\t23767\t16248\t10890\t10083\t11441\t13300\t12458\t11262\t9193\t11197\t11376\t15168\t15460\t13619\t11137\t11356\t12141";
//        String m6 = "12030\t11863\t11571\t10518\t12880\t15345\t13653\t11035\t11358\t10579\t11242\t12703\t13902\t14194\t11437\t11632\t11005\t11498\t13068\t15187\t14828\t13726\t10524\t11924\t11607\t12794\t13269\t12910\t12521\t13160";
//        String m7 = "12090\t13278\t13700\t12826\t12060\t13090\t12244\t12390\t11592\t15180\t16486\t12472\t13662";
//        mounthnum.put("201501", m1);
//        mounthnum.put("201502", m2);
//        mounthnum.put("201503", m3);
//        mounthnum.put("201504", m4);
//        mounthnum.put("201505", m5);
//        mounthnum.put("201506", m6);
//        mounthnum.put("201507", m7);
//        channel = "100602";     //chenxiang


//        String m1 = "369";
//        String m2 = "9708\t8856\t9175\t8915\t9625\t10809\t10340\t9616\t9103\t9721\t9156\t9338\t10824\t10820\t9421\t9281\t11071\t9319\t10248\t11431\t10778\t10290\t8909\t9637\t9530\t9834\t10468\t10516";
//        String m3 = "10298\t9385\t9737\t9456\t10209\t11466\t10968\t10200\t9656\t10311\t9712\t9905\t11481\t11477\t9994\t9845\t11743\t9885\t10871\t12125\t11432\t10915\t9450\t10222\t10109\t10431\t11104\t11155\t9918\t11093\t9414";
//        String m4 = "4638\t4226\t4381\t4259\t4598\t5164\t4940\t4594\t4349\t4644\t4374\t4461\t5171\t5169\t4501\t4434\t5289\t4452\t4896\t5461\t5149\t4916\t4256\t4604\t4553\t4698\t5001\t5024\t4467\t4996";
//        String m5 = "11393\t11381\t10762\t11662\t11291\t12685\t12185\t11285\t10683\t11408\t10744\t10958\t12702\t12697\t11056\t10892\t12992\t10936\t12027\t13415\t12648\t12076\t10455\t11309\t11184\t11540\t12285\t12341\t10973\t12272\t10415";
//        String m6 = "11789\t10763\t11131\t10826\t11687\t13126\t12557\t11677\t11055\t11804\t11118\t11339\t13144\t13139\t11441\t11271\t13444\t11316\t12445\t13881\t13088\t12496\t10818\t11703\t11573\t11942\t12712\t12770\t11354\t12699";
//        String m7 = "13074\t11175\t11265\t11841\t12001\t14844\t15341\t12488\t12518\t11981\t11414\t12488\t14135";
//        mounthnum.put("201501", m1);
//        mounthnum.put("201502", m2);
//        mounthnum.put("201503", m3);
//        mounthnum.put("201504", m4);
//        mounthnum.put("201505", m5);
//        mounthnum.put("201506", m6);
//        mounthnum.put("201507", m7);
//        channel = "100502";     //qingcheng

//        String m1 = "1978";
//        String m2 = "12837\t15372\t11052\t10906\t12271\t13124\t12721\t12098\t13836\t12648\t13226\t13400\t13958\t13712\t13350\t14657\t16776\t14138\t14293\t15741\t18738\t14448\t13702\t13843\t13314\t14006\t18179\t15811";
//        String m3 = "12690\t15194\t10925\t10781\t12135\t12974\t12575\t11959\t13677\t12503\t13074\t13246\t13798\t13555\t13196\t14489\t16583\t13976\t14129\t15560\t18523\t14282\t13545\t13684\t13161\t13845\t17971\t15630\t15728\t17843\t16106";
//        String m4 = "14090\t16885\t12119\t11970\t13468\t14405\t13962\t13278\t15186\t13882\t14516\t14708\t15320\t15050\t14652\t16087\t18413\t15517\t15688\t17277\t20566\t15858\t15039\t15193\t14613\t15372\t19953\t17354\t17463\t19812";
//        String m5 = "14323\t17160\t12324\t12169\t13691\t14644\t14194\t13498\t15438\t14112\t14757\t14952\t15574\t15299\t14895\t16354\t18718\t15775\t15948\t17563\t20907\t16121\t15288\t15445\t14855\t15627\t20284\t17641\t17753\t20140\t17427";
//        String m6 = "15763\t18886\t13558\t13396\t15067\t16116\t15621\t14855\t16989\t15530\t16240\t16454\t17140\t16837\t16392\t17998\t20599\t17360\t17551\t19328\t23008\t17741\t16825\t16997\t16348\t17198\t22323\t19415\t19537\t22164";
//        String m7 = "14911\t13730\t13453\t14543\t15103\t14797\t15387\t15796\t18079\t15236\t15403\t16964\t20193";
//        mounthnum.put("201501", m1);
//        mounthnum.put("201502", m2);
//        mounthnum.put("201503", m3);
//        mounthnum.put("201504", m4);
//        mounthnum.put("201505", m5);
//        mounthnum.put("201506", m6);
//        mounthnum.put("201507", m7);
//        channel = "100604";     //联想

//        String m1 = "369";
//        String m2 = "9059\t10846\t7798\t7696\t8659\t9265\t8977\t8537\t9764\t8925\t9339\t9456\t9850\t9676\t9420\t10343\t11838\t9977\t10086\t11108\t13223\t10196\t9669\t9768\t9395\t9883\t12829\t11157";
//        String m3 = "9116\t10915\t7853\t7744\t8713\t9320\t9033\t8591\t9825\t8981\t9392\t9516\t9912\t9737\t9480\t10408\t11913\t10039\t10150\t11178\t13306\t10260\t9730\t9830\t9454\t9946\t12909\t11228\t11298\t12818\t11372";
//        String m4 = "10195\t12217\t8769\t8667\t9745\t10423\t10103\t9608\t10988\t10045\t10504\t10642\t11086\t10890\t10602\t11641\t13323\t11228\t11351\t12501\t14881\t11475\t10882\t10994\t10574\t11123\t14438\t12557\t12636\t14336";
//        String m5 = "9721\t9265\t8251\t8398\t9392\t9046\t9737\t9260\t9590\t9681\t9123\t9257\t9684\t9495\t10218\t11219\t12841\t10822\t10940\t12048\t14342\t11059\t10488\t10595\t10191\t10720\t13915\t12102\t10178\t11816\t12258";
//        String m6 = "9945\t11921\t8554\t8449\t9506\t10167\t9855\t9372\t10718\t9798\t10246\t10381\t10813\t10622\t10342\t11354\t12996\t10952\t11072\t12194\t14516\t11193\t10615\t10723\t10314\t10850\t14083\t12248\t12326\t13983";
//        String m7 = "11850\t14184\t10192\t10077\t11327\t12115\t11743\t11167\t12772\t11675\t12208\t12370\t12885";
//        mounthnum.put("201501", m1);
//        mounthnum.put("201502", m2);
//        mounthnum.put("201503", m3);
//        mounthnum.put("201504", m4);
//        mounthnum.put("201505", m5);
//        mounthnum.put("201506", m6);
//        mounthnum.put("201507", m7);
//        channel = "100705";     //小辣椒

//        String m1 = "112";
//        String m2 = "9118\t10917\t7855\t7751\t8715\t9322\t9036\t8593\t9827\t8983\t9394\t9518\t9914\t9739\t9482\t10411\t11915\t10042\t10152\t11180\t13309\t10262\t9732\t9832\t9456\t9948\t12912\t11230";
//        String m3 = "9835\t11776\t8464\t8366\t9401\t10055\t9747\t9269\t10601\t9690\t10133\t10267\t10695\t10506\t10228\t11230\t12853\t10832\t10951\t12060\t14356\t11070\t10498\t10606\t10201\t10731\t13929\t12114\t12190\t13830\t11940";
//        String m4 = "11110\t13323\t9656\t9332\t10619\t11358\t11009\t10470\t11974\t10946\t11446\t11597\t12080\t11867\t11553\t12685\t14518\t12236\t12370\t13623\t16216\t12504\t11858\t11980\t11522\t12121\t15733\t13683\t13770\t15622";
//        String m5 = "10994\t13171\t9466\t9340\t10509\t11240\t10895\t10361\t11850\t10832\t11327\t11476\t11954\t11743\t11433\t12553\t14367\t12108\t12241\t13481\t16048\t12374\t11735\t11855\t11402\t11995\t15569\t13541\t13626\t15459\t13115";
//        String m6 = "11984\t14349\t10308\t10182\t11456\t12253\t11876\t11294\t12934\t11808\t12347\t12510\t13031\t12801\t12463\t13683\t15661\t13199\t13344\t14695\t17493\t13488\t12792\t12923\t12429\t13075\t16972\t14761\t14854\t16852";
//        String m7 = "14744\t14291\t13591\t15552\t14209\t14858\t15054\t15681\t15403\t14997\t16466\t18846\t15883";
//        mounthnum.put("201501", m1);
//        mounthnum.put("201502", m2);
//        mounthnum.put("201503", m3);
//        mounthnum.put("201504", m4);
//        mounthnum.put("201505", m5);
//        mounthnum.put("201506", m6);
//        mounthnum.put("201507", m7);
//        channel = "100702";     //海信
//
//        String m1 = "321";
//        String m2 = "9579\t11470\t8240\t8151\t9157\t9794\t9493\t9028\t10325\t9438\t9869\t10000\t10416\t10232\t9962\t10937\t12518\t10550\t10666\t11746\t13983\t10782\t10225\t10330\t9935\t10451\t13566\t11799";
//        String m3 = "8766\t10496\t7543\t7457\t8379\t8962\t8687\t8261\t9448\t8636\t9031\t9150\t9532\t9363\t9116\t10009\t11455\t9654\t9760\t10749\t12795\t9866\t9357\t9452\t9091\t9564\t12414\t10797\t10865\t12326\t11014";
//        String m4 = "10191\t12222\t8766\t8658\t9742\t10419\t10099\t9604\t10984\t10041\t10500\t10638\t11082\t10886\t10598\t11636\t13318\t11224\t11347\t12497\t14876\t11470\t10878\t10990\t10570\t11119\t14433\t12552\t12632\t14330";
//        String m5 = "10365\t12414\t8923\t8819\t9911\t10600\t10274\t9771\t11175\t10215\t10682\t10823\t11274\t11075\t10782\t11838\t13549\t11419\t11544\t12713\t15134\t11669\t11067\t11180\t10753\t11312\t14683\t12770\t12850\t14579\t12693";
//        String m6 = "11447\t13705\t9855\t9725\t10945\t11703\t11343\t10787\t12337\t11278\t11793\t11949\t12446\t12227\t11904\t13069\t14959\t12607\t12745\t14036\t16708\t12883\t12218\t12343\t11872\t12489\t16210\t14098\t14187\t16095";
//        String m7 = "11760\t11910\t12423\t12192\t11870\t13033\t14917\t12571\t12709\t13996\t16661\t12847\t12184";
//        mounthnum.put("201501", m1);
//        mounthnum.put("201502", m2);
//        mounthnum.put("201503", m3);
//        mounthnum.put("201504", m4);
//        mounthnum.put("201505", m5);
//        mounthnum.put("201506", m6);
//        mounthnum.put("201507", m7);
//        channel = "100701";     //天翼达
    }
    @Test
    public void test() {

        Set<String> keySet = mounthnum.keySet();

        for (Iterator iterator = keySet.iterator(); iterator.hasNext(); ) {
            String key =  (String) iterator.next();
            String value = mounthnum.get(key);

            String[] nums = value.split("\t");

            for (int i = 1; i <= nums.length; i++) {
                String num = nums[i-1];

                String cdate = "";
                if(i < 10) {
                    cdate = key + "0" + i;
                } else {
                    cdate = key + i;
                }

                initMapper.updateCdate(Integer.parseInt(key), cdate, channel, Integer.parseInt(num));
            }
            
        }

        System.out.printf("插入成功"+ channel);

    }
}
